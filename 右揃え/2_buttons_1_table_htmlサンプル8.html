<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>デモ（CSSのみ修正版）</title>
<style>
  /* 横スクロールの親：中身に合わせて縮むが最大で画面幅 */
  .scroller {
    width: max-content;
    max-width: 100%;
    overflow-x: auto;
  }

  /* stickyはスクロール親の直下に置く */
  .bar {
    position: sticky;
    right: 0;                 /* 横スクロール時に画面右端へ張り付く */
    display: flex;
    justify-content: flex-end;/* 親幅内で右寄せ */
    padding: .25rem 0;
    z-index: 1;               /* 表より前に（必要なら） */
    background: #fff;         /* 被り対策（任意） */
  }

  /* 中身はテーブル幅に合わせて広がる */
  .inner {
    width: max-content;
  }

  table { border-collapse: collapse; }
  td, th { border: 1px solid #666; }
</style>
</head>
<body>

<div class="scroller">
  <!-- ← stickyはここ（スクロール親の直下） -->
  <div class="bar">
    <button id="Btn">aaaa</button>
  </div>

  <div class="inner">
    <table id="myTable">
      <thead>
        <tr><th>商品</th><th>コード</th><th>サイズ</th></tr>
      </thead>
      <tbody>
        <tr>
          <td><textarea>Apple</textarea></td>
          <td><textarea>A01</textarea></td>
          <td><textarea>S</textarea></td>
        </tr>
        <tr>
          <td><textarea>Apple</textarea></td>
          <td><textarea>A01</textarea></td>
          <td><textarea>M</textarea></td>
        </tr>
        <tr>
          <td><textarea>Apple</textarea></td>
          <td><textarea>A02</textarea></td>
          <td><textarea>L</textarea></td>
        </tr>
        <tr>
          <td><textarea>Banana</textarea></td>
          <td><textarea>B01</textarea></td>
          <td><textarea>S</textarea></td>
        </tr>
        <tr>
          <td><textarea>Banana</textarea></td>
          <td><textarea>B01</textarea></td>
          <td><textarea>M</textarea></td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

</body>
</html>
